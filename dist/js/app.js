(function(e){function t(t){for(var i,r,l=t[0],s=t[1],u=t[2],d=0,c=[];d<l.length;d++)r=l[d],a[r]&&c.push(a[r][0]),a[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);f&&f(t);while(c.length)c.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a={app:0},o=[];function l(e){return s.p+"js/"+({delivery:"delivery"}[e]||e)+".js"}function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={delivery:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var i="css/"+({delivery:"delivery"}[e]||e)+".css",a=s.p+i,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var u=o[l],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===i||d===a))return t()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){u=c[l],d=u.getAttribute("data-href");if(d===i||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.request=i,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){r[e]=0}));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,n){i=a[e]=[t,n]});t.push(i[2]=o);var u,d=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=l(e),u=function(t){c.onerror=c.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+r+")");o.type=i,o.request=r,n[1](o)}a[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:c})},12e4);c.onerror=c.onload=u,d.appendChild(c)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04fe":function(e,t,n){"use strict";var i=n("e43a"),r=n.n(i);r.a},"2e28":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-item"},[e.type&&"text"!==e.type?e._e():n("input",e._b({class:{focused:e.highlited},attrs:{type:e.type,invalid:e.invalid,placeholder:e.placeholder,required:e.required},domProps:{value:e.getFormField(e.name)},on:{focusout:function(t){e.focused=!0},input:function(t){e.setFormField(e.name,t.target.value)}}},"input",e.$attrs,!1)),"textarea"===e.type?n("textarea",{attrs:{placeholder:"",required:e.required},on:{change:function(t){e.setFormField(e.name,t.target.value)}}}):e._e(),"select"===e.type?n("select",{attrs:{invalid:e.invalid},on:{change:function(t){e.setFormField(e.name,t.target.value)},focusout:function(t){e.focused=!0}}},[n("option",{attrs:{value:"0",selected:"",disabled:""}},[e._v("Не выбрано")]),e._l(e.options,function(t,i){return n("option",{key:i,domProps:{value:t}},[e._v("\n\t\t\t"+e._s(t)+"\n\t\t")])})],2):e._e(),n("label",[e._v(e._s(e.label))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.invalid&&e.highlited&&e.checkField(e.name),expression:"!invalid && highlited && checkField(name)"}],staticClass:"valid"})])},r=[],a=n("be94"),o=n("2f62"),l=n("6998"),s={name:"VFormInput",inheritAttrs:!1,mixins:[l["a"]],props:{label:{type:String,required:!0},name:{type:String,required:!0},type:{type:String,default:"text"},options:{type:Array},invalid:{type:Boolean,default:!1},required:{type:Boolean,default:!0},showValidate:{type:Boolean,default:!1},placeholder:String},data:function(){return{focused:!1}},computed:Object(a["a"])({},Object(o["b"])(["form"]),{highlited:function(){return!!this.showValidate||this.focused}})},u=s,d=(n("90db"),n("2877")),c=Object(d["a"])(u,i,r,!1,null,"ab8f28ae",null);c.options.__file="VFormInput.vue";t["a"]=c.exports},"347d":function(e,t,n){},"47fc":function(e,t,n){"use strict";var i=n("a07b"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Основные данные")]),n("router-link",{attrs:{to:{name:"delivery"}}},[e._v("Адрес доставки")])],1),n("form",[n("router-view")],1)])},a=[],o=(n("5c0b"),n("2877")),l={},s=Object(o["a"])(l,r,a,!1,null,null,null);s.options.__file="App.vue";var u=s.exports,d=n("8c4f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"contact"}},[n("VFormInput",{attrs:{label:"Имя",name:"name",invalid:!e.nameValidation,showValidate:e.showValid}}),n("VFormInput",{attrs:{label:"Фамилия",name:"surname",invalid:!e.surnameValidation,showValidate:e.showValid}}),n("VFormInput",{attrs:{label:"Телефон",name:"phone",invalid:!e.phoneValidation,placeholder:"+7(999) 999-99-99",showValidate:e.showValid}}),n("VFormInput",{attrs:{label:"Email",name:"email",invalid:!e.emailValidation,placeholder:"example@example.com",showValidate:e.showValid}}),n("router-link",{staticClass:"btn",attrs:{to:{name:"delivery"},type:"button",tag:"button"}},[e._v("Продолжить")])],1)},f=[],m=n("be94"),p=n("2f62"),h=n("2e28"),v=n("6998"),y={name:"Contact",components:{VFormInput:h["a"]},mixins:[v["a"]],mounted:function(){this.contactPageValidate&&(this.showValid=!0),this.$store.dispatch("setFormStep",{step:"step1"})},computed:Object(m["a"])({},Object(p["b"])(["form"]))},g=y,b=(n("47fc"),Object(o["a"])(g,c,f,!1,null,"9ca012c4",null));b.options.__file="Contact.vue";var V=b.exports;i["a"].use(d["a"]);var _=new d["a"]({routes:[{path:"/",name:"contact",component:V},{path:"/delivery",name:"delivery",component:function(){return n.e("delivery").then(n.bind(null,"edb0"))}}]});n("7f7f"),n("6762"),n("ac6a"),n("456d");i["a"].use(p["a"]);var F=new p["a"].Store({state:{form:{step1:{fields:{},valid:!1},step2:{fields:{},valid:!1}},formStep:null},getters:{form:function(e){if(e.formStep)return e.form[e.formStep]},formToSend:function(e){if(e.formStep){var t={},n=e.form.step2.fields;if(n.hasOwnProperty("delivery")&&"false"===n.delivery){var i=["comment","delivery"],r=e.form.step2.fields,a=Object.keys(r).filter(function(e){return i.includes(e)}).reduce(function(e,t){return e[t]=r[t],e},{});t=Object(m["a"])({},e.form.step1.fields,a)}else t=Object(m["a"])({},e.form.step1.fields,e.form.step2.fields);return t}}},mutations:{SET_FORM_STEP:function(e,t){var n=t.step;e.formStep=n},SET_FORM_FIELD:function(e,t){var n=t.name,r=t.value,a=e.form[e.formStep].fields;if(a[n]){if(""===r||!r.length)return void i["a"].delete(e.form[e.formStep].fields,n);a[n]=r}else i["a"].set(e.form[e.formStep].fields,n,r)},CLEAR_FORM_STEP:function(e,t){var n=t.step;e.form[n].fields={},e.form[n].valid=!1}},actions:{setFormStep:function(e,t){var n=e.commit;n("SET_FORM_STEP",t)},setFormField:function(e,t){var n=e.commit;n("SET_FORM_FIELD",t)},clearFormStep:function(e,t){var n=e.commit;n("CLEAR_FORM_STEP",t)},clearForm:function(e){var t=e.commit,n=e.state;for(var i in n.form)n.form.hasOwnProperty(i)&&t("CLEAR_FORM_STEP",{step:i})}}});i["a"].config.productionTip=!1,new i["a"]({router:_,store:F,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("8fba"),r=n.n(i);r.a},6998:function(e,t,n){"use strict";n("7f7f");var i,r,a=n("be94"),o=n("2f62"),l=function(e,t,n){var i;return function(){var r=this,a=arguments,o=function(){i=null,n||e.apply(r,a)},l=n&&!i;clearTimeout(i),i=setTimeout(o,t),l&&e.apply(r,a)}},s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,u={name:"VFormMixin.vue",data:function(){return{showValid:!1}},computed:Object(a["a"])({},Object(o["b"])(["form"]),{emailValidation:function(){return this.checkField("email")&&s.test(this.form.fields.email)},phoneValidation:function(){return this.checkField("phone")&&/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/gm.test(this.form.fields.phone)},nameValidation:function(){return this.textLengthValidate("name")},surnameValidation:function(){return this.textLengthValidate("surname")},countryValidation:function(){return this.checkField("country")},cityValidation:function(){return this.textLengthValidate("city")},indexValidation:function(){return this.textLengthValidate("index")&&/^\d+$/.test(this.form.fields.index)&&this.form.fields.index.length<=6},addressValidation:function(){return this.textLengthValidate("address")},dateValidation:function(){return this.textLengthValidate("date")&&/^([0-2][0-9]|(3)[0-1])(\/)(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/i.test(this.form.fields.date)},contactPageValidate:function(){return this.emailValidation&&this.phoneValidation&&this.nameValidation&&this.surnameValidation},addressPageValidate:function(){return this.countryValidation&&this.cityValidation&&this.addressValidation&&this.dateValidation&&this.indexValidation}}),beforeRouteLeave:function(e,t,n){this.contactPageValidate||"delivery"!==e.name?n():(n(!1),this.focusOnInvalid())},methods:{focusOnInvalid:function(){var e=document.querySelector("input[invalid]");e&&e.focus()},getFormField:function(e){return this.form&&this.form.fields&&this.form.fields[e]||""},setFormField:l(function(e,t){this.$store.dispatch("setFormField",{name:e,value:t})},250),textLengthValidate:function(e){return this.checkField(e)&&this.form.fields[e].length>0&&this.form.fields[e].length<=255},checkField:function(e){return this.form&&this.form.fields&&void 0!==this.form.fields[e]}}},d=u,c=(n("04fe"),n("2877")),f=Object(c["a"])(d,i,r,!1,null,null,null);f.options.__file="VFormMixin.vue";t["a"]=f.exports},"8fba":function(e,t,n){},"90db":function(e,t,n){"use strict";var i=n("347d"),r=n.n(i);r.a},a07b:function(e,t,n){},e43a:function(e,t,n){}});
//# sourceMappingURL=app.js.map